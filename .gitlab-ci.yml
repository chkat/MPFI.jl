stages:
  - deploy # mandatory name for the stage to GitLab detect it's a Pages deployment


pages:
  tags:
    - ci.inria.fr
  stage: deploy
  image: python:alpine
  before_script:
    - apk add git
    - pip install mkdocs
    # Add your custom theme if not inside a theme_dir
    # (https://github.com/mkdocs/mkdocs/wiki/MkDocs-Themes)
    - pip install mkdocs-material
    # Add your plugins
    - pip install pygments
    - pip install pymdown-extensions
    - pip install mkdocs-awesome-pages-plugin
    - pip install pyembed-markdown
    - pip install mkdocs-git-revision-date-plugin
    - pip install plantuml-markdown
  script:
    - mkdocs build
  artifacts:
    paths:
      - public
  only:
    - main

